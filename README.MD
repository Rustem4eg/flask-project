# Flask. Урок 1. Создание первой программы
## 1. Установка Flask

Перед началом работы убедитесь, что у вас установлен Python версии 3.7 или выше. Затем выполните установку Flask с помощью команды:
```
pip install flask
```
Проверьте успешность установки, выполнив:
```
python -m flask --version
```
## 2. Создание первой программы "Hello, Flask!"
Создайте новый файл с именем **app.py** в рабочей директории и добавьте следующий код:
```
from flask import Flask

# Создаем объект приложения Flask
app = Flask(__name__)

# Определяем маршрут и привязываем его к функции
@app.route('/')
def hello():
    return "Hello, Flask!"

# Запуск приложения
if __name__ == "__main__":
    app.run(debug=True)
```
**Объяснение кода:**
1. **Создание экземпляра приложения:**
```
app = Flask(__name__)
```
Здесь создается экземпляр приложения Flask. Аргумент __name__ используется для того, чтобы Flask мог правильно определять ресурсы и маршруты в вашем приложении.
2. **Маршрут и функция:**
```
@app.route('/')
def hello():
    return "Hello, Flask!"
```
* Декоратор *@app.route('/')* связывает определенный маршрут (в данном случае /, корневой URL) с функцией *hello()*.

Когда пользователь переходит по адресу http://127.0.0.1:5000/, функция *hello()* срабатывает и возвращает строку "Hello, Flask!".

3. **Запуск сервера:**
```
if __name__ == "__main__":
    app.run(debug=True)
```
* Проверка if __name__ == "__main__" гарантирует, что сервер запустится только в том случае, если файл выполняется как основной модуль.

* Метод `run()` запускает сервер разработки Flask. Параметр `debug=True` включает режим отладки, который автоматически перезагружает сервер при изменениях в коде и предоставляет удобные сообщения об ошибках.
**Примечания:**

* При запуске сервера может появиться следующая ошибка:
```
UnicodeEncodeError: 'ascii' codec can't encode characters in position 0-6: ordinal not in range(128)
```
Такая ошибка возникает, если имя компьютера написано кириллицей. В этом случае переименуйте имя компьютера, чтобы оно содержало только латинские символы, цифры и дефисы.

* Flask запускает сервер по адресу http://127.0.0.1:5000/. Этот адрес ещё называется `localhost`. Перейдя по этому адресу в браузере, вы увидите результат работы функции `hello()`.

**Как это работает**:
1. Когда вы запускаете файл app.py, метод run() создает сервер.
2. Сервер обрабатывает запросы, поступающие на указанный адрес (127.0.0.1:5000).
3. Браузер отправляет HTTP-запрос на сервер при переходе по адресу http://127.0.0.1:5000/.
4. Сервер вызывает функцию hello(), связанную с маршрутом /, и отправляет её результат ("Hello, Flask!") обратно браузеру.
5. Браузер отображает полученный результат на странице.  
Функции, которые обрабатывают запросы и возвращают ответы, называются вьюхами (от англ. view — представление). Подробнее про них поговорим в следующем уроке. 

## 3. Запуск локального сервера
![Alt text](/images/1.png)

Чтобы запустить сервер, выполните команду или нажмите Run:
```
python app.py
```
Вы увидите сообщение в консоли, похожее на это:
```
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
 * Restarting with stat
 * Debugger is active!
 * Debugger PIN: 123-456-789
```
Откройте браузер и перейдите по адресу http://127.0.0.1:5000/. Или просто нажмите на него в терминале и станица в браузере откроется автоматически. Вы увидите сообщение:
```
Hello, Flask!
```
Поздравляю, ваше первое приложение на Flask запущено!

Для завершения работы сервера нажмите CTRL+C в терминале или кнопку Stop

## Задание
Создайте ваше первое приложение Flask:
Следуя инструкциям урока, напишите код, который возвращает сообщение "Hello, Flask!".
Запустите локальный сервер и убедитесь, что приложение работает корректно.
Приложите скрин аналогичный уроку и ссылку на гитхаб с кодом. 

# Flask. Урок 2. Маршруты

## 1. Понятие маршрутов (routes)
**Маршрут** — это URL, который связывается с функцией обработки запросов.
* Веб-приложение состоит из страниц, каждая из которых доступна по своему адресу.
* Flask позволяет настраивать маршруты для обработки запросов пользователей.
* Например, маршрут </about> может отображать страницу с информацией "О нас".

## 2. Создание маршрутов с использованием @app.route
Маршруты задаются с помощью декоратора *@app.route*. Пример:
```
@app.route("/")  
def home():  
    return "This is the homepage!"  
```
Ключевые моменты:
* <@app.route("/")>: связывает функцию с адресом </>.
* Функция <home> вызывается при переходе пользователя на указанный маршрут.
* Функция должна возвращать строку или HTML.

**Пример с несколькими маршрутами:**
```
@app.route("/about")
def about():
    return "About page"

@app.route("/contact")
def contact():
    return "Contact page"
```
Теперь:
* При переходе на </about> отображается текст "About page".
* При переходе на </contact> — "Contact page".
![Alt text](/images/2.png)

## Динамические маршруты и параметры в URL
Flask позволяет задавать маршруты с параметрами. Пример:
```
@app.route("/greet/<name>")
def greet(name):
    return f"Hello, {name}!"
```
Теперь:

При переходе на </greet/Anna> сервер вернет "Hello, Anna!".
При переходе на </greet/John> — "Hello, John!".

## **Типизация параметров**
Можно указать тип данных параметра:

* <int:age>: принимает только целые числа.
* <float:score>: принимает числа с плавающей запятой.
* <path:subpath>: принимает полный подпуть (включая слэши).  
Пример:
```
@app.route("/user/<int:id>")
def user_profile(id):
    return f"User ID: {id}"
```
* </user/123> → "User ID: 123".
* </user/abc> → ошибка, так как <abc> не является числом.

## **Задание**
#### Задание 1: Простые маршруты

Создайте маршруты:
- </hello> с текстом "Hello, world!".
- </info> с текстом "This is an informational page.".

### Задание 2: Динамические маршруты

Реализуйте маршрут </calc//>, который возвращает сумму двух чисел. 
Пример: </calc/3/5> вернет "The sum of 3 and 5 is 8.".

### Задание 3. Создайте маршрут /reverse/, который переворачивает текст.

Пример: /reverse/hello → "olleh".

### Задание 4. Реализуйте маршрут /user//, возвращающий:

"Hello, {name}. You are {age} years old.".  

**Проверьте работу маршрутов в браузере, перейдя по указанным адресам**:

#### Задание 1: Простые маршруты

/hello → Отображает "Hello, world!"

/info → Отображает "This is an informational page."

#### Задание 2: Сумма чисел

/calc/3/5 → Отображает "The sum of 3 and 5 is 8."

#### Задание 3: Переворот текста

/reverse/hello → Отображает "olleh".

/reverse/python → Отображает "nohtyp".

#### Задание 4: Приветствие с возрастом

/user/Anna/25 → Отображает "Hello, Anna. You are 25 years old."

/user/John/30 → Отображает "Hello, John. You are 30 years old."

### Расширение задания:
Добавьте обработку ошибок для неправильных данных (например, /calc/a/b).  
Для маршрута /reverse/ добавьте проверку, чтобы текст содержал хотя бы один символ.  
Для маршрута /user// добавьте валидацию возраста (например, не допускайте возраст меньше 0).

# Flask. Урок 3. Оптимизация структуры проекта во Flask

## 1. Зачем нужна оптимизация структуры проекта?

При разработке маленького приложения простой файл <app.py> может быть достаточным. Однако с ростом функционала проект становится сложнее:
* Трудно находить нужные части кода.
* Код становится плохо читаемым.
* Изменения в одной части приложения могут нарушить другие части.
Хорошая структура:  
* Делит приложение на логически связанные модули.
* Упрощает поддержку и расширение.
* Делает проект удобным для работы в команде.

## 2. Базовая структура небольшого проекта
 
Для небольших приложений простая структура подходит:
```
project/
├── app.py             # Основной файл приложения
├── templates/         # HTML-шаблоны
│   ├── base.html
│   ├── index.html
├── static/            # Статические файлы (CSS, JS, изображения)
│   ├── css/
│   │   └── style.css
└── requirements.txt   # Зависимости
```
Недостатки:
* С ростом проекта логика маршрутов, моделей и обработчиков данных переплетается, что усложняет управление.
## 3. Оптимизированная структура для среднего/большого проекта
Для масштабируемых приложений рекомендуется использовать более сложную структуру:
```
project/
├── app/               # Пакет приложения
│   ├── __init__.py    # Инициализация приложения
│   ├── routes.py      # Маршруты
│   ├── models.py      # Модели базы данных
│   ├── templates/     # HTML-шаблоны
│   │   ├── base.html
│   │   ├── index.html
│   ├── static/        # Статические файлы
│   │   ├── css/
│   │   │   └── style.css
│   │   └── images/
├── config.py          # Конфигурация приложения
├── run.py             # Точка входа в приложение
├── requirements.txt   # Зависимости
└── migrations/        # Миграции базы данных (если используется Flask-Migrate)
```
**Что здесь происходит?**
* `app/`: Основной пакет приложения, где хранятся модули, маршруты и шаблоны.
* `config.py`: Настройки приложения (например, параметры базы данных).
* `run.py`: Запуск приложения.
* `migrations/`: Каталог для управления миграциями базы данных.

## 4. Использование Blueprints для модульности
**Что такое Blueprints?**

Blueprints позволяют делить приложение на независимые модули. Например:

* `auth`: для аутентификации.
* `blog`: для управления постами.  
**Пример с использованием Blueprints**  
Структура проекта:
```
project/
├── app/
│   ├── __init__.py
│   ├── auth/
│   │   ├── __init__.py
│   │   ├── routes.py
│   ├── blog/
│   │   ├── __init__.py
│   │   ├── routes.py
│   ├── templates/
│   └── static/
├── config.py
├── run.py
```
Подробная статья для изучения: https://realpython.com/flask-blueprint/

### Оптимизируем код из прошлого урока

#### Шаги:

**Создание структуры проекта**: В первую очередь, разделим код на несколько частей. Для этого создадим структуру проекта:
* 
```
flask_project/
├── app/
│   ├── __init__.py
│   ├── routes.py
├── run.py
├── requirements.txt
```

* **flask_project/** — корневая директория проекта (у вас может быть другое название)
* **requirements.txt** — файл, где указаны зависимости проекта.
* **run.py** — файл для запуска приложения.
* **routes.py** — хранит все маршруты и соответствующие им функции.
* **init.py** — инициализирует Flask-приложение и импортирует маршруты.
* **app/** — директория для логики приложения.

Файл `requirements.txt`:
1. В этом файле указываются все библиотеки и пакеты, необходимые для работы приложения. В нашем случае, для работы с Flask, мы укажем только эту зависимость:
```
Flask==2.2.3
```
**Flask==2.2.3** — указывает на необходимую версию Flask. Вы можете использовать другую версию, если это необходимо для совместимости с вашим кодом.  
**Файл** `run.py`: В этом файле запускаем наше приложение. Код будет следующим:
* 
```
from app import app

if __name__ == "__main__":
    app.run(debug=True)
```
* **app.run(debug=True)** — запускаем сервер Flask в режиме отладки (это позволяет автоматически перезапускать сервер при изменениях в коде и отображать подробные ошибки).
* **from app import app** — импортируем приложение, которое было создано в `app/__init__.py`.  
**Файл** `app/__init__.py`: Инициализируем наше приложение и подключим маршруты. Этот файл будет выглядеть так:
* 
```
from flask import Flask

app = Flask(__name__)
from app import routes
```
* **from app import routes** — импортируем маршруты, определенные в файле `routes.py`. Это позволяет нам подключить все маршруты к нашему приложению.  
**Файл** `app/routes.py`: Здесь мы переносим всю логику маршрутов. Каждый маршрут привязан к функции, которая будет выполняться при обращении к соответствующему URL. Для упрощения, в этом файле прописаны несколько базовых маршрутов.
* 
```
from app import app

@app.route("/hello")
def hello():
    return "Hello, world!"

@app.route("/info")
def info():
    return "This is an informational page."

#и все оставшиеся маршруты 
```
* **Запуск проекта:** Для запуска проекта выполните команду:
```
python run.py
```
![Alt text](/images/3.png)
## Задание
Приложите гитхаб проекта с правильной файловой структурой  

# Flask. Урок 4. Режимы работы сервера Flask: Debug Mode и Production Mode
Давайте добавим в наш код ошибку (любую). Например деление на ноль
![Alt text](/images/4.png)
Flask, как и многие другие веб-фреймворки, имеет два основных режима работы сервера: **режим отладки** (Debug Mode) и **продакшн-режим** (Production Mode). В этом уроке мы подробно рассмотрим, чем они отличаются, как их включать и когда использовать каждый из них.

## 1. Что такое режимы работы сервера?
* **Debug Mode** — это режим, при котором Flask запускается с дополнительной функциональностью для разработчиков. В этом режиме сервер автоматически перезапускается при изменении исходного кода, а ошибки выводятся с подробной информацией о стеке. Это очень удобно при разработке, так как позволяет быстро тестировать изменения.
* **Production Mode** — это режим, предназначенный для реальных пользователей. В этом режиме Flask работает более эффективно, не показывая подробных сообщений об ошибках и не перезапуская сервер автоматически при изменениях в коде. Это обеспечивает стабильную работу приложения в реальной среде.

## 2. Режим отладки (Debug Mode)
Включение режима отладки позволяет Flask выполнять следующие действия:
* Автоматически перезапускать сервер при изменениях в коде.
* Отображать подробные ошибки в браузере, включая информацию о стеке вызовов и переменных.
* Включать трассировку ошибок (stack trace), чтобы быстро отлавливать ошибки в коде.  
Как включить режим отладки?  
Чтобы включить **Debug Mode**, нужно установить значение параметра `debug` в `True` при запуске приложения Flask:
```
if __name__ == "__main__":
    app.run(debug=True)  # Включаем отладку
```
Что делает эта строка?  

* **app.run(debug=True)** — запускает сервер в режиме отладки. В этом режиме сервер будет перезапускаться, если вы внесете изменения в код, а также будет показывать подробные ошибки при возникновении исключений.  

Особенности режима отладки:
* **Автоматический перезапуск:** сервер перезапустится, как только вы измените код.
* **Подробные ошибки:** при возникновении ошибки Flask покажет подробную информацию о проблеме.
* **Преимущества:** быстрое тестирование, удобное отлавливание ошибок.  
Недостатки:
* **Не рекомендуется для продакшн-среды:** Включение режима отладки на сервере с реальными пользователями может представлять угрозу безопасности, так как подробные ошибки могут содержать конфиденциальную информацию.

Теперь переходим на http://127.0.0.1:5000/hello (укажите маршрут с ошибкой в коде)

![Alt text](/images/5.png)
На странице будет выведена полная информация о возникшей ошибке, полный
Traceback и даже строчка кода, на которой возникла ошибка  
**Важно: эту информация ни в коем случае не должны видеть обычные посетители сайта, потому что здесь содержатся полные данные о нашем сервере. Получив такие данные, злоумышленники легко смогут взломать сайт.
Именно поэтому сервер запускается по умолчанию с выключенным режимом отладки.  
Очень важно: никогда не используй Debug = on на продакшене!**

## 3. Режим продакшн (Production Mode)
В режиме продакшн Flask работает более стабильно и безопасно. Однако в этом режиме:
* Сервер не перезапускается автоматически при изменениях в коде.
* Ошибки не выводятся на экран, а вместо этого пользователю показывается стандартное сообщение об ошибке (например, 500 Internal Server Error).
* Этот режим является предпочтительным для развертывания на реальных серверах.  

Как выключить режим отладки?  
Для отключения отладки установите параметр `debug` в `False` или просто не передавайте его при запуске приложения.
```
if __name__ == "__main__":
    app.run(debug=False)  # Отключаем отладку (режим продакшн)
```
**Что делает эта строка?**

* **app.run(debug=False)** — запускает сервер без режима отладки. В этом случае Flask не будет перезапускаться автоматически, и ошибки не будут отображаться в браузере.
Особенности режима продакшн:
* **Без автоматического перезапуска:** изменения в коде не вызовут перезапуск сервера.
* **Ошибки скрыты:** подробные сообщения об ошибках не будут показываться пользователю.
* **Преимущества:** безопасная и стабильная работа на реальном сервере.
* **Недостатки:** не так удобно отлаживать приложение, так как ошибки не выводятся на экран.  
<br>
Переходим на http://127.0.0.1:5000/hello и видим следующее
![Alt text](/images/6.png)

## 4. Как выбрать режим работы сервера?

* **Используйте Debug Mode:**

- На этапе разработки.
- Для быстрого тестирования изменений.
- Когда вам нужно отслеживать и отлаживать ошибки.
* **Используйте Production Mode:**

- На этапе развертывания приложения.
- Когда ваше приложение будет использоваться реальными пользователями.
- Чтобы минимизировать риски безопасности и улучшить производительность.

# Flask. Урок 5. Работа с HTML и подключение шаблонов в Flask

## Цель урока: Научиться подключать HTML-файлы в Flask и понимать, как сервер "рендерит" страницы для отображения в браузере клиента.

## 1. Что такое рендеринг HTML?

Когда вы переходите на сайт в браузере, ваш компьютер (клиент) запрашивает у сервера данные. Сервер отправляет HTML-код — это текстовый формат, который браузер интерпретирует и показывает в виде веб-страницы.  

**Рендеринг HTML** — это процесс создания HTML-кода на сервере и отправки его клиенту. В Flask для рендеринга HTML используется встроенная функция `render_template`.  

Зачем рендерить HTML в Flask?
* Чтобы клиент получал уже готовую веб-страницу.
* Для разделения логики приложения и его внешнего вида.
* Чтобы сервер мог подготавливать разные страницы для каждого запроса.

## 2. Как подключить HTML в Flask?

Flask позволяет отправлять HTML-страницы клиенту. Эти страницы сохраняются в папке `templates`, которая автоматически распознается Flask.

## 3. Пошаговая реализация

Шаг 1: Создаем проект  
Создайте следующую структуру проекта:
```
flask_project/
├── app/
│   ├── __init__.py
│   ├── routes.py
│   ├── templates/
│   │   ├── index.html
│   │   ├── about.html
├── run.py
```
Шаг 2: Настраиваем приложение  
Создайте файл run.py, который запускает приложение:
```
from app import app

if __name__ == "__main__":
    app.run(debug=True)
```
Создайте файл `app/__init__.py`, который инициализирует приложение:
```
from flask import Flask

app = Flask(__name__)

from app import routes
```
Создайте файл `app/routes.py`, где будут определены маршруты:
```
from flask import render_template
from app import app

@app.route("/")
def home():
    return render_template("index.html")

@app.route("/about")
def about():
    return render_template("about.html")
```
Шаг 3: Создаем HTML-шаблоны  
Создайте папку `templates` в директории `app` и добавьте туда HTML-файлы.  
Файл `templates/index.html`:
```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
</head>
<body>
    <h1>Welcome to Flask</h1>
    <p>This is the home page of our Flask application.</p>
</body>
</html>
```
Файл `templates/about.html`:
```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>About</title>
</head>
<body>
    <h1>About Us</h1>
    <p>This page provides information about our application.</p>
</body>
</html>
```
## 4. Запуск приложения
1. Убедитесь, что Flask установлен:
```
pip install flask
```
2. Запустите сервер:
```
python run.py
```
3. Откройте браузер и перейдите по адресу:
* http://127.0.0.1:5000/ — главная страница.
* http://127.0.0.1:5000/about — страница "О нас".

## 5. Как это работает?
1. Когда пользователь открывает в браузере http://127.0.0.1:5000/, клиент отправляет запрос на сервер.
2. Сервер, видя, что запрошен маршрут `/`, вызывает функцию `home` в `routes.py`.
3. Функция `home` использует метод `render_template`, чтобы "рендерить" (собрать) HTML из файла `templates/index.html`.
4. Flask отправляет этот HTML-код клиенту.
5. Браузер получает HTML и отображает страницу.

# 6. Преимущества подхода с HTML-шаблонами
1. **Удобство разработки:**
* Все HTML-файлы хранятся отдельно от Python-кода.
* Легче работать с дизайном и логикой отдельно.
2. Улучшение читаемости:
* Вместо того чтобы писать HTML прямо в Python-файлах, весь код дизайна хранится в одном месте.
3. Повторное использование:
* HTML-файлы можно использовать снова, подключая их к разным маршрутам.

## Задание
**Домашнее задание**  
1. Добавьте новую страницу: Создайте маршрут /contact, который рендерит HTML-файл contact.html. В этом файле укажите заголовок и текст с контактной информацией.
2. Измените главную страницу: На странице / добавьте ссылки на страницы /about и /contact.
**Пример ссылки в HTML: `<a href="/about">About Us</a>`**
3. Попробуйте изменить HTML: Попробуйте добавить новые элементы на страницы, например, изображения, списки или таблицы.

# Flask. Урок 6. Статические файлы во Flask

## Статические файлы во Flask  

**Статические файлы** – это файлы, которые не изменяются во время выполнения приложения. Обычно это файлы CSS, JavaScript, изображения, шрифты и другие ресурсы, необходимые для отображения интерфейса приложения.
Во Flask есть встроенная поддержка статических файлов, и они размещаются в папке с названием `static`.

# Где хранить статические файлы?

По умолчанию, Flask ожидает, что все статические файлы будут находиться в папке `static` в корневой директории проекта.  
Например:
```
project/
├── app/
│   ├── __init__.py
│   ├── routes.py
│   ├── static/
│   │   ├── css/
│   │   │   └── styles.css
│   │   ├── js/
│   │   │   └── script.js
│   │   └── img/
│   │       └── logo.png
│   ├── templates/
│   │   └── index.html
```

## Как подключить статические файлы в HTML?

В HTML-шаблонах Flask мы используем функцию `url_for('static', filename='путь_к_файлу')`, чтобы динамически сформировать путь к статическому файлу. Это удобно, так как Flask сам корректно генерирует URL.  
Примеры:
1. **Подключение CSS:**
```
<link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
```
2. **Подключение JavaScript:**
```
<script src="{{ url_for('static', filename='js/script.js') }}"></script>
```
3. Подключение изображения:
```
<img src="{{ url_for('static', filename='img/logo.png') }}" alt="Logo">
```
# Пример использования статических файлов
1. Создайте файл `app/static/css/styles.css` со следующим содержимым:
```
body {
    font-family: Arial, sans-serif;
    background-color: #f9f9f9;
    margin: 0;
    padding: 0;
}

h1 {
    color: #333;
    text-align: center;
    margin-top: 20px;
}
```
2. В шаблоне `templates/index.html` подключите CSS-файл:
```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Static Files Example</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
    <h1>Welcome to Flask!</h1>
</body>
</html>
```
3. После запуска Flask-приложения (например, с файлом `run.py`), вы увидите стилизованную страницу.

## Дополнительно: Настройка папки для статических файлов  
По умолчанию Flask использует папку `static`, но вы можете изменить её, передав параметр `static_folder` при создании экземпляра приложения:
```
from flask import Flask

app = Flask(__name__, static_folder='my_static')
```

Теперь Flask будет искать статические файлы в папке `my_static`.

## Полезные советы
1. **Организация статических файлов:** Разделяйте файлы на подпапки (`css`, `js`, `img`), чтобы упростить структуру проекта.

2. **Кэширование:** При разработке в браузере может сохраняться кэш старых версий статических файлов. Используйте уникальные версии файлов в URL:
```
<link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}?v=1.0">
```

# Flask. Урок 7. Что такое базовый шаблон (base.html)?

Базовый шаблон (`base.html`) в Flask используется для создания основной структуры HTML-документа, которая повторяется на всех страницах веб-приложения. Вместо того чтобы дублировать общий код (например, `<head>`, шапку сайта, меню или подвал) в каждом шаблоне, вы создаёте базовый шаблон и наследуете его в других страницах.

## **Зачем нужен `base.html`?**
1. **Упрощение кода:** Вместо копирования одинакового HTML на каждой странице, общий код пишется в одном месте.
2. **Лёгкость изменений:** Изменение в базовом шаблоне сразу отразится на всех страницах, которые его используют.
3. **Организация:** Делает структуру проекта более чистой и удобной для работы.
## **Как создаётся `base.html`?**
Базовый шаблон содержит общую структуру веб-страницы и точки для вставки контента с помощью специальных блоков (`blocks`).  

**Пример base.html:**
```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}My Flask App{% endblock %}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
    <!-- Шапка -->
    <header>
        <h1>My Flask App</h1>
        <nav>
            <a href="/">Home</a>
            <a href="/about">About</a>
            <a href="/contact">Contact</a>
        </nav>
    </header>

    <!-- Основной контент -->
    <main>
        {% block content %}
        <!-- Контент будет вставляться здесь -->
        {% endblock %}
    </main>

    <!-- Подвал -->
    <footer>
        <p>&copy; 2025 My Flask App</p>
    </footer>
</body>
</html>
```
## Объяснение структуры `base.html`
1. **Шапка сайта:**

* Содержит заголовок и меню навигации.
* Дублируется на всех страницах.
2. **{% block title %}**:

* Указывает место для изменения заголовка страницы.
* Например, на одной странице это может быть "Home", а на другой "About Us".
3. **{% block content %}:**

* Указывает место для основного контента страницы.
* Другие шаблоны, которые наследуют base.html, будут вставлять сюда свои данные.
4. **Подвал (footer):**
* Фиксированная часть, которая также повторяется на всех страницах.  

## **Наследование базового шаблона**
Чтобы использовать `base.html`, создайте дополнительные шаблоны и наследуйте его с помощью `{% extends 'base.html' %}`.  
**Пример: `home.html:`**
```
{% extends 'base.html' %}

{% block title %}Home{% endblock %}

{% block content %}
    <h2>Welcome to My Flask App!</h2>
    <p>This is the home page of our website.</p>
{% endblock %}
```
**Пример: `about.html`:**
```
{% extends 'base.html' %}

{% block title %}About Us{% endblock %}

{% block content %}
    <h2>About Us</h2>
    <p>This page provides information about our company.</p>
{% endblock %}
```

## **Как подключить базовый шаблон в проекте?**
1. **Создайте файл `templates/base.html`**:
* Добавьте общий код HTML.
2. **Создайте страницы, которые будут его наследовать:**
* Например, `home.html`, `about.html`, `contact.html`.
3. **Настройте маршруты в `routes.py`:**
```
@app.route("/")
def home():
    return render_template("home.html")

@app.route("/about")
def about():
    return render_template("about.html")

@app.route("/contact")
def contact():
    return render_template("contact.html")
```
## **Что делать, если нужно добавить стили или скрипты на конкретную страницу?**  

Вы можете использовать дополнительные блоки для подключения индивидуальных CSS или JavaScript.  
**Пример: Добавление скриптов или стилей в `base.html`:**
```
<head>
    <title>{% block title %}My Flask App{% endblock %}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    {% block extra_css %}{% endblock %}
</head>
<body>
    ...
    {% block extra_js %}{% endblock %}
</body>
```
**В дочернем шаблоне (например, `contact.html`):**
```
{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/contact.css') }}">
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/contact.js') }}"></script>
{% endblock %}
```

## **Преимущества использования `base.html`**
1. **Повторное использование:** Нет необходимости дублировать общие элементы страницы.
2. **Удобство обновления:** Любое изменение в базовом шаблоне сразу распространяется на все дочерние страницы.
3. **Чистота кода:** Каждая страница содержит только свой уникальный контент, что делает код более читаемым и организованным.



