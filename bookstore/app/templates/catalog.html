{% extends "base.html" %}
{% block content %}
<h1>Каталог книг</h1>

<div class="mb-3">
  <a href="{{ url_for('main.catalog') }}" class="btn btn-outline-primary btn-sm">Все жанры</a>
  {% for genre in genres %}
    <a href="{{ url_for('main.catalog', genre=genre.id) }}" class="btn btn-outline-secondary btn-sm">
      {{ genre.name }}
    </a>
  {% endfor %}
</div>

<div class="row">
{% for book in books %}
  <div class="col-md-4 mb-4">
    <div class="card h-100">
      <img src="{{ url_for('static', filename=book.cover) }}" class="card-img-top" alt="{{ book.title }}" style="height: 200px; object-fit: cover;">
      <div class="card-body d-flex flex-column">
        <h5 class="card-title">{{ book.title }}</h5>
        <p class="card-text">{{ book.author }}</p>
        <p class="text-warning">★ {{ "%.1f"|format(book.rating) }}</p>
        <a href="{{ url_for('main.book_detail', book_id=book.id) }}" class="btn btn-sm btn-primary mt-auto">Подробнее</a>
      </div>
    </div>
  </div>
{% else %}
  <p class="text-muted">Книг в этом жанре нет.</p>
{% endfor %}
</div>
{% endblock %}